<section class="on-{{ navCtrl.activeView }}" ng-controller="EventController as eventCtrl">
    <div>
        <header>
            <a href ng-click="navCtrl.toggleMenu()"><i class="left icon-menu"></i></a>
            <i ng-if="status.isLoading" class="right icon-spin color-blue animate-spin"></i>
            <i ng-if="status.isDone && status.isError" class="right icon-spin" ng-click="navCtrl.reload()"></i>
            <i ng-if="status.isDone && !status.isError" class="right icon-search"></i>
            <h1 class="title">{{ 'events'|translate }}</h1>
        </header>
        <div class="overthrow">
            <style type="text/css">
                .status { border-radius: 5px; padding: 10px; background-color: #fafafa; }
                .loading { background-color: orange; }
                .done { background-color: #cfc; }
                .error { background-color: #fcc; }
                .old { background-color: yellow; }
            </style>
            <div class="status" ng-class="{loading: status.isLoading, done: status.isDone, error: status.isError}">
                <input type="button" ng-click="refresh()" value="UPDATE" /> <strong>META STATUS:</strong> isDone: {{ status.isDone }}, isLoading: {{ status.isLoading }}, isOld: {{ status.isOld }}, isError: {{ status.isError }}
            </div>
            <div style="padding-top:.5em;margin-top:.5em;border-top:1px solid #eee;">
                <div class="status" ng-class="{loading: forecastStatus.isLoading, done: forecastStatus.isDone, error: forecastStatus.isError}">
                    isDone: {{ forecastStatus.isDone }}, isLoading: {{ forecastStatus.isLoading }}, isOld: {{ forecastStatus.isOld }}, isError: {{ forecastStatus.isError }}
                </div>
                <div style="height:45px;overflow:hidden">forecast: {{ forecast }}</div>
            </div>
            <div style="padding-top:.5em;margin-top:.5em;border-top:1px solid #eee;">
                <div class="status" ng-class="{loading: typesStatus.isLoading, done: typesStatus.isDone, error: typesStatus.isError}">
                    isDone: {{ typesStatus.isDone }}, isLoading: {{ typesStatus.isLoading }}, isOld: {{ typesStatus.isOld }}, isError: {{ typesStatus.isError }}
                </div>
                <div style="height:45px;overflow:hidden">types: {{ types }}</div>
            </div>
            <div style="padding-top:.5em;margin-top:.5em;border-top:1px solid #eee;">
                <div class="status" ng-class="{loading: placesStatus.isLoading, done: placesStatus.isDone, error: placesStatus.isError}">
                    isDone: {{ placesStatus.isDone }}, isLoading: {{ placesStatus.isLoading }}, isOld: {{ placesStatus.isOld }}, isError: {{ placesStatus.isError }}
                </div>
                <div style="height:45px;overflow:hidden">places: {{ places }}</div>
            </div>
            <div style="padding-top:.5em;margin-top:.5em;border-top:1px solid #eee;">
                <div class="status" ng-class="{loading: placeStatus.isLoading, done: placeStatus.isDone, error: placeStatus.isError}">
                    isDone: {{ placeStatus.isDone }}, isLoading: {{ placeStatus.isLoading }}, isOld: {{ placeStatus.isOld }}, isError: {{ placeStatus.isError }}
                </div>
                <div style="height:45px;overflow:hidden">place: {{ place }}</div>
            </div>
            <!--
            <ul>
                <li ng-repeat="(code, data) in all" 
                    ng-click="loadCode(code)"
                    style="
                    cursor: pointer;
                    display:inline-block; 
                    padding: 2px 5px;
                    margin-right: 4px;
                    margin-bottom:3px;
                    background-color: #fafafa;
                    border: 1px solid #f0f0f0;
                    border-radius: 3px;
                    font-size: .8em;
                    ">
                    {{ code }}: {{ data.name }}
                </li>
            </ul>
            <hr>
            {{ meta }}<br/>
            <hr>
            {{ code }}<br/>
            <hr>
            {{ status }}<br/>
            <hr>
            -->
            <!--
            <div ng-if="events.isLoaded && events.isError">
                ERROR: {{ events }}
            </div>
            <div ng-if="events.isLoaded && !events.isError">
                <ul>
                    <li ng-repeat="event in events.data">
                        <a href ng-click="navCtrl.pushView('event.show', { 'event': event })">
                            {{ event.name }}
                        </a>
                    </li>
                </ul>
            </div>
            -->
        </div>
    </div>
    <div ng-include="view2"></div>
</section>

<script type="text/ng-template" id="event.show">
    <header>
        <a href ng-click="navCtrl.popView()"><i class="left icon-left"></i></a>
        <!--<i class="right icon-share"></i>-->
        <h1 class="title">{{ pushData.event.name }}</h1>
    </header>
    <div class="overthrow">
        <h1 class="title">
            {{ pushData.event.name }}
        </h1>
        {{ pushData.event.description }}
        <hr>
        <ul>
            <li>hasi: {{ pushData.event.startAt }}</li>
            <li>bukatu: {{ pushData.event.endAt }}</li>
        </ul>
    </div>
</script>
