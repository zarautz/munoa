<div ng-controller="PlaceViewController as pviewCtrl" ng-class="{ 'active-map': pviewCtrl.mapIsActive }">
    <header>
        <a href ng-click="navCtrl.popView()"><i class="left icon-left"></i></a>
        <div ng-switch on="pviewCtrl.status.isLoading">
            <div ng-switch-when="true">
                <i class="right icon-spin color-blue animate-spin"></i>
            </div>
            <div ng-switch-default>
                <i ng-click="pviewCtrl.toggleMap()" class="right icon-map" ng-class="{ 'color-blue': pviewCtrl.mapIsActive }"></i>
            </div>
        </div>
        <h1 class="title">{{ pviewCtrl.title }}</h1>
    </header>
    <div class="map-container" id="map-canvas"></div>
    <div ng-if="!pviewCtrl.status.isLoading" class="overthrow">
        <div class="banner" ng-style="{ 'background-image': 'url('+ pviewCtrl.place.getImage('medium') +')' }"></div>
        <h2>
            <i class="right" ng-class="{ 'icon-star color-yellow': pviewCtrl.favorite.isFavorite(pviewCtrl.place.id), 'icon-star-empty': !pviewCtrl.favorite.isFavorite(pviewCtrl.place.id) }" ng-click="pviewCtrl.toggleFavorite(pviewCtrl.place.id)"></i>
            {{ pviewCtrl.place.name }}
        </h2>
        <div class="content" ng-bind-html="pviewCtrl.place.description"></div>

        <a ng-href="geo:{{ pviewCtrl.place.location.latitude + ',' + pviewCtrl.place.location.longitude }}">geo</a><br/><br/>
        <a ng-href="tel:{{ pviewCtrl.place.telephone }}">telephone</a>
    </div>
</div>
