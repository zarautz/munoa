<section class="on-{{ navigation.activeView }}" ng-controller="SettingsController as setCtrl">
    <div>
        <header>
            <i ng-click="navigation.toggleMenu()" class="left icon-menu"></i>
            <h1 class="title">{{ 'settings' | translate }}</h1>
        </header>
        <div class="overthrow table-view">
            <h5>{{ 'settings.general' | translate }}</h5>
            <ul>
                <li ng-repeat="id in setCtrl.settings.getIds()">
                    <a href ng-click="navigation.pushView('settings.selector', { id: id, settings: setCtrl.settings })">
                        <i class="icon-right-open"></i>
                        {{ ('settings.'+ id) | translate }}
                        <span class="detail">{{ ('settings.'+ id +'.'+ setCtrl.settings.get(id)) | translate }}</span>
                    </a>
                </li>
            </ul>
            <br/>
            <h5>{{ 'app' | translate }}</h5>
            <ul>
                <!--<li>
                    <a href ng-click="navigation.pushView('settings.about')">
                        <i class="icon-right-open"></i>
                        {{ 'settings.about' | translate }}
                    </a>
                </li>-->
                <!--<li>
                    <a href ng-click="navigation.pushView('settings.about.opensource')">
                        <i class="icon-right-open"></i>
                        {{ 'settings.about.opensource' | translate }}
                    </a>
                </li>-->
                <li>
                    <span class="a">
                        {{ 'settings.about.version' | translate }}
                        <span class="detail">@@version</span>
                    </span>
                </li>
                <li>
                    <a href ng-click="navigation.pushView('settings.about.privacy', { settings: setCtrl.settings })">
                        <i class="icon-right-open"></i>
                        {{ 'settings.about.privacy' | translate }}
                    </a>
                </li>
                <!--<li>
                    <span class="a">
                        {{ 'settings.about.build' | translate }}
                        <span class="detail">{{ '@@timestamp' | amDateFormat:'llll' }}</span>
                    </span>
                </li>-->
                <li>
                    <a href ng-click="navigation.pushView('settings.data.cache')">
                        <i class="icon-right-open"></i>
                        {{ 'settings.data.cache' | translate }}
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <div ng-include="view2"></div>
</section>

<script type="text/ng-template" id="settings.selector">
    <header>
        <a href ng-click="navigation.popView()"><i class="left icon-left"></i></a>
        <h1 class="title">{{ ('settings.'+ pushData.id) | translate }}</h1>
    </header>
    <div class="overthrow table-view">
        <ul>
            <li ng-repeat="option in pushData.settings.getOptions(pushData.id)">
                <a href ng-click="setCtrl.updateSetting(pushData.id, option)">
                    <i class="icon-ok selected" ng-show="option == pushData.settings.get(pushData.id)"></i>
                    {{ ('settings.'+ pushData.id +'.'+ option) | translate }}
                </a>
            </li>
        </ul>
        <p ng-if="['profile'].indexOf(pushData.id) !== -1" class="explanation">
            {{ ('settings.'+ pushData.id +'.'+ pushData.settings.get(pushData.id)) +'.explanation' | translate }}
        </p>
    </div>
</script>

<script type="text/ng-template" id="settings.about">
    <header>
        <a href ng-click="navigation.popView()"><i class="left icon-left"></i></a>
        <h1 class="title">{{ 'settings.about' | translate }}</h1>
    </header>
    <div class="overthrow">
        <p></p>
        <ul class="cta-list">
            <li ng-click="navigation.openExternalLink('mailto:turismoa@zarautz.org')">
                <i class="icon-info"></i>
                turismoa@zarautz.org
            </li>
            <li ng-click="navigation.openExternalLink('mailto:team@illarra.com')">
                <i class="icon-cog"></i>
                team@illarra.com
            </li>
        </ul>
    </div>
</script>

<script type="text/ng-template" id="settings.about.opensource">
    <header>
        <a href ng-click="navigation.popView()"><i class="left icon-left"></i></a>
        <h1 class="title">{{ 'settings.about.opensource' | translate }}</h1>
    </header>
    <div class="overthrow">
        <p></p>
        <ul class="cta-list">
            <li ng-click="navigation.openExternalLink(setCtrl.apiDocs)">
                <i class="icon-download"></i>
                Zarautz API
            </li>
        </ul>
    </div>
</script>

<script type="text/ng-template" id="settings.data.cache">
    <header>
        <a href ng-click="navigation.popView()"><i class="left icon-left"></i></a>
        <h1 class="title">{{ 'settings.data.cache' | translate }}</h1>
    </header>
    <div class="overthrow">
        <!--<p>{{ 'settings.cache.explanation' | translate }}</p>-->
        <a href ng-click="setCtrl.clearCache()" class="external-link alert">
            {{ 'settings.data.cache' | translate }}
        </a>
    </div>
</script>

<script type="text/ng-template" id="settings.about.privacy">
    <header>
        <a href ng-click="navigation.popView()"><i class="left icon-left"></i></a>
        <h1 class="title">{{ 'settings.about.privacy' | translate }}</h1>
    </header>
    <div class="overthrow text-small" ng-switch="pushData.settings.get('language')">
        <div ng-switch-when="eu" class="privacy-policy">
            <h2>Zarautz App-aren pribatutasun politika</h2>
            Aplikazio honek erabiltzaileen datu pertsonal batzuk jasotzen ditu.
            <h3><i class="icon-smiley"></i>Zuk zeuk emandako informazio pertsonala</h3>
            <p>Aplikazio honek eskatuko dizun informazio pertsonal bakarra <strong>"Zarautzen bizi zaren edo ez"</strong> da, zure Zarauztar izaera. Informazio hori aplikazioak eduki egokituak aurkeztu ahal izateko erabiltzen du; <strong>lokalean bakarrik jasotzen da</strong> eta informazioa ez da inoiz gure zerbitzarietara iristen. Ez dugu beste informazio pertsonalik eskatzen.</p>
            <h3><i class="icon-direction"></i>Teknologia ezberdinak erabiltzen jasotzen den informazio ez-pertsonala</h3>
            <p><strong>Kokapen informazioa</strong>: aplikazio honek zure kokapen geografikoaren arabera egokitutatko edukiak eskeini ditzake. Nabigatzaile eta gailu gehienek kokapen informazio hau ez elkarbanatzeko aukerak eskeintzen dituzte. Besterik esaten ez baduzu, beraz, zure kokapen informazioa <strong>lokalean jasoko da</strong> (zure gailuan) eta aplikazioak informazio egokitua eskeintzeko erabiliko du.</p>
            <h3><i class="icon-link-external"></i>Beste webguneetara estekak</h3>
            <p>Zerbitzu hobea emateko helburuarekin, aplikazio honek beste webgune eta aplikazio batzuekin loturak egin ditzake. Beste webgune edo aplikazioetara joatean bertako pribatutasun politikak dioena izan beharko duzu kontutan, eta ez hemen esaten dena.</p>
            <h3><i class="icon-ok"></i>Pribatutasun politika honen eguneraketak</h3>
            <p>Pribatutasun politika hau aldatzen bada, orrialde hau eduki berriekin eguneratuko dugu. Orrialde hau askotan bisitatzea gomendatzen dizugu beraz: behean azaltzen den eguneratze datak esango dizu noiz eguneratu dugun politika hau azkenengoz. Hemen esaten denarekin ados ez bazaude, aplikazio hau erabiltzeari utzi beharko zenioke.</p>
        </div>
        <div ng-switch-when="es" class="privacy-policy">
            <h2>Privacy policy of Zarautz App</h2>
            This application collects some personal data from its users.
            <h3><i class="icon-smiley"></i>Personal information that you give us</h3>
            <p>The only personal information you may give this application is your condition of <strong>"Zarautz resident" or "non-resident"</strong>. That's an information used by the application to deliver customised contents; it is only <strong>stored locally</strong> and will never travel to our servers. We don't ask for more personal information.</p>
            <h3><i class="icon-direction"></i>Non-Personal information collected using technology</h3>
            <p><strong>Location information</strong>: this application can deliver content based on your current location. Most browsers and devices provide tools to opt out from this feature by default. If explicit authorisation has been provided, your current location will be <strong>stored locally</strong> on your device and it will be used by the Application to give you a better information.</p>
            <h3><i class="icon-link-external"></i>Links to other web sites</h3>
            <p>To give you a better service our application can connect you with a number of websites and applications. When connecting to such other websites you will no longer be subject to this policy but to the privacy policy of the new site or application.</p>
            <h3><i class="icon-ok"></i>Changes to this Privacy Policy</h3>
            <p>If there are any changes to this privacy policy, we will replace this page with an updated version. It is strongly recommended to check this page often, referring to the date of the last modification listed at the bottom. If you object to any of the changes to the Policy, you must cease using this application.</p>
        </div>
        <div ng-switch-default class="privacy-policy">
            <h2>Privacy Policy of Zarautz App</h2>
            This application collects some personal data from its users.
            <h3><i class="icon-smiley"></i>Personal information that you give us</h3>
            <p>The only personal information you may give this application is your condition of <strong>"Zarautz resident" or "non-resident"</strong>. That's an information used by the application to deliver customised contents; it is only <strong>stored locally</strong> and will never travel to our servers. We don't ask for more personal information.</p>
            <h3><i class="icon-direction"></i>Non-Personal information collected using technology</h3>
            <p><strong>Location information</strong>: this application can deliver content based on your current location. Most browsers and devices provide tools to opt out from this feature by default. If explicit authorisation has been provided, your current location will be <strong>stored locally</strong> on your device and it will be used by the Application to give you a better information.</p>
            <h3><i class="icon-link-external"></i>Links to other web sites</h3>
            <p>To give you a better service our application can connect you with a number of websites and applications. When connecting to such other websites you will no longer be subject to this policy but to the privacy policy of the new site or application.</p>
            <h3><i class="icon-ok"></i>Changes to this Privacy Policy</h3>
            <p>If there are any changes to this privacy policy, we will replace this page with an updated version. It is strongly recommended to check this page often, referring to the date of the last modification listed at the bottom. If you object to any of the changes to the Policy, you must cease using this application.</p>
        </div>
        <hr />
        <p class="text-smallest color-lightest-text">
            {{ 'meta.lastUpdated'|translate }}: {{ '2013-09-24' | amDateFormat:'L' }}
        </p>
    </div>
</script>
